<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página de Login</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .error {
            color: red;
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }
    </style>
</head>
<body>
    <app-loading [isLoading]="isLoading" [message]="loadingMessage"></app-loading>
    <div class="container">
        <div class="login-box">            
            <h2>Login</h2>
            <form [formGroup]="loginForm" (ngSubmit)="login()" novalidate>
                <div class="input-group">
                    <label for="email">E-mail</label>
                    <input type="email" id="email" formControlName="username" required>
                    <div class="error" *ngIf="loginForm.controls['username'].touched">
                        <span *ngIf="loginForm.controls['username'].errors?.['required']">Este campo é obrigatório.</span>
                        <span *ngIf="loginForm.controls['username'].errors?.['email']">E-mail inválido.</span>
                    </div>
                </div>
                <div class="input-group">
                    <label for="password">Senha</label>
                    <input type="password" id="password" formControlName="password" required>
                    <div class="error" *ngIf="loginForm.controls['password'].touched">
                        <span *ngIf="loginForm.controls['password'].errors?.['required']">Este campo é obrigatório.</span>
                        <span *ngIf="loginForm.controls['password'].errors?.['minlength']">Senha inválida. Deve ter pelo menos 3 caracteres.</span>
                    </div>
                </div>
                
                <button type="submit" class="btn" [disabled]="loginForm.invalid || isLoading">
                    <span *ngIf="!isLoading">Entrar</span>
                    <span *ngIf="isLoading">Entrar</span>
                </button>
                
            </form>
            <p>Não tem uma conta? <a href="#" (click)="goToRegister()">Cadastre-se</a></p>
        </div>
    </div>
</body>
</html>
